scalar DateTime

extend type Query {
  orderSet(input: OrderSetInput!): OrderSet
  groupOrderSets(input: GroupOrderSetsInput!): [OrderSet!]
}

extend type Mutation {
  createOrderSet(input: CreateOrderSetInput!): OrderSet
  updateOrderSet(input: UpdateOrderSetInput!): OrderSet
  deleteOrderSet(input: DeleteOrderSetInput!): OrderSet
}

###################
# Order
###################
type Order @key(fields: "id") {
  id: ID!
  orderSet: OrderSet!
  membership: GroupMembership!
  symbol: String!
  side: OrderSide!
  createdAt: DateTime!
}

###################
# OrderSet
###################
type OrderSet @key(fields: "id") {
  id: ID!
  orders: [Order!]!
  createdAt: DateTime!
}

input OrderSetInput {
  id: ID!
}

input CreateOrderSetInput {
  groupId: ID!
  description: String

  # TODO: What else?
}

input UpdateOrderSetInput {
  orderSetId: ID!
  description: String!

  # TODO: What else?
}

input DeleteOrderSetInput {
  orderSetId: ID!
}

input GroupOrderSetsInput {
  groupId: ID!
}

###########################
# GroupMembership extension
###########################
extend type GroupMembership @key(fields: "id") {
  id: ID! @external
  orders: [Order!]!
}

###########################
# Enums
###########################
enum OrderSide {
  BUY
  SELL
}
